
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Zernike analysis &#8212; Ray Optics  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Analysis Classes" href="analysis.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="zernike-analysis">
<h1>Zernike analysis<a class="headerlink" href="#zernike-analysis" title="Permalink to this headline">¶</a></h1>
<div class="section" id="radial-and-zernike-polynomials">
<h2>Radial and Zernike Polynomials<a class="headerlink" href="#radial-and-zernike-polynomials" title="Permalink to this headline">¶</a></h2>
<p>Function to calcualte the Radial polynomial R(n,m,r) and the complex
zernike V(n,l,x,y) as defined in Born and Wolf page 770l</p>
<dl class="function">
<dt id="optics.zernike.radial">
<code class="sig-prename descclassname">optics.zernike.</code><code class="sig-name descname">radial</code><span class="sig-paren">(</span><em class="sig-param">n</em>, <em class="sig-param">m</em>, <em class="sig-param">r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/zernike.html#radial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.zernike.radial" title="Permalink to this definition">¶</a></dt>
<dd><p>Radial polynomial of n,m for radius r R(n,m,r) as defined in 
Born &amp; Wold page 770.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – radial n value, n &gt; 0 only.</p></li>
<li><p><strong>m</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – radial m value, |m| &lt;= n.</p></li>
<li><p><strong>r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> or </em><em>np.ndarray</em>) – radius value |r| &lt;= 1. or np.array or floats, all less that 1.0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>value the value of R(n,m,r). as a float, or np.ndarray if np.ndarray given</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="optics.zernike.zernike">
<code class="sig-prename descclassname">optics.zernike.</code><code class="sig-name descname">zernike</code><span class="sig-paren">(</span><em class="sig-param">n</em>, <em class="sig-param">l</em>, <em class="sig-param">x</em>, <em class="sig-param">y=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/zernike.html#zernike"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.zernike.zernike" title="Permalink to this definition">¶</a></dt>
<dd><p>Complex method to calculate the complex Zernike polynomial
V(n,l,x,y) as defined in Born &amp; Wolf page 770.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> – radial power order n &gt;= 0</p></li>
<li><p><strong>l</strong> – angular power order |l| &lt;= n</p></li>
<li><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> or </em><a class="reference internal" href="vector.html#vector.Vector2d" title="vector.Vector2d"><em>Vector2d</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference internal" href="vector.html#vector.Vector2d" title="vector.Vector2d"><em>Vector2d</em></a><em>]</em>) – the x value or Vector2d</p></li>
<li><p><strong>y</strong> – the y value (None is x is Vector2d)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Complex the polynomial value</p>
</dd>
</dl>
</dd></dl>

<p>Function to calcualt the optical zerkine components up of order 48.</p>
<dl class="function">
<dt id="optics.zernike.opticalZernike">
<code class="sig-prename descclassname">optics.zernike.</code><code class="sig-name descname">opticalZernike</code><span class="sig-paren">(</span><em class="sig-param">v</em>, <em class="sig-param">i</em>, <em class="sig-param">x</em>, <em class="sig-param">y=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/zernike.html#opticalZernike"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.zernike.opticalZernike" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to form the opticalZernike components weighted by a factor. These are defined for order 0 to 48.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – the weighting factor</p></li>
<li><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the opticalZernike 0 to 48 (49 components)</p></li>
<li><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> or </em><a class="reference internal" href="vector.html#vector.Vector2d" title="vector.Vector2d"><em>Vector2d</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em>[</em><a class="reference internal" href="vector.html#vector.Vector2d" title="vector.Vector2d"><em>Vector2d</em></a><em>]</em>) – the x parameter or Vector2d</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – the y parameter (None if x is a Vector2d)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>float the opticalZernike value.</p>
</dd>
</dl>
<p>This will return float(“nan”) if not legal argument suppied.</p>
</dd></dl>

<p>Function to return the name of the optical zernike component.</p>
<dl class="function">
<dt id="optics.zernike.opticalZernikeName">
<code class="sig-prename descclassname">optics.zernike.</code><code class="sig-name descname">opticalZernikeName</code><span class="sig-paren">(</span><em class="sig-param">i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/zernike.html#opticalZernikeName"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.zernike.opticalZernikeName" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to lookup and retuirn the name of the specified optical zernike component</p>
</dd></dl>

</div>
<div class="section" id="zernikeexpalsion-class">
<h2>ZernikeExpalsion Class<a class="headerlink" href="#zernikeexpalsion-class" title="Permalink to this headline">¶</a></h2>
<p>Class to hold a opticalZernike expansion as a list of floats giving the
phase length of each component. There is also an internal radius used in
calcualtions.</p>
<dl class="class">
<dt id="optics.zernike.ZernikeExpansion">
<em class="property">class </em><code class="sig-prename descclassname">optics.zernike.</code><code class="sig-name descname">ZernikeExpansion</code><span class="sig-paren">(</span><em class="sig-param">radius=1.0</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/zernike.html#ZernikeExpansion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.zernike.ZernikeExpansion" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to hold a zernike expansion, being a list of optical zernike components. There are also method to evaluate and
display the expansion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – the radius (Default = 1.0)</p></li>
<li><p><strong>*args</strong> – coefficiencs as set of parameters or list, may be blank.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="optics.zernike.ZernikeExpansion.draw">
<code class="sig-name descname">draw</code><span class="sig-paren">(</span><em class="sig-param">size=256</em>, <em class="sig-param">xtilt=None</em>, <em class="sig-param">ytilt=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/zernike.html#ZernikeExpansion.draw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.zernike.ZernikeExpansion.draw" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot data is a np.array in extent +/- 1.0</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the size of the image in pixel, (Default = 256)</p></li>
<li><p><strong>xtilt</strong> (<em>float of None</em>) – X-Interferometer tilt, if None then plot raw phase values</p></li>
<li><p><strong>ytilt</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> or </em><em>none</em>) – Y-Interferometer tilt</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.zernike.ZernikeExpansion.getImage">
<code class="sig-name descname">getImage</code><span class="sig-paren">(</span><em class="sig-param">size=256</em>, <em class="sig-param">xtilt=None</em>, <em class="sig-param">ytilt=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/zernike.html#ZernikeExpansion.getImage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.zernike.ZernikeExpansion.getImage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an np.array image of the expansion. If both tilts are None, 
then image set to raw phase value, othwise
will be simulated interferometer with specified tilt with output in the range 0.0 -&gt; 2.0.</p>
<p>Note: the pixel elements outside the unit circle will be set to Zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – size of image (Default = 256)</p></li>
<li><p><strong>xtilt</strong> – Interferometer xtilt, may be None</p></li>
<li><p><strong>ytilt</strong> – Interferometer ytilt, may be None</p></li>
</ul>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>two dimensional np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.zernike.ZernikeExpansion.getPSF">
<code class="sig-name descname">getPSF</code><span class="sig-paren">(</span><em class="sig-param">size=256</em>, <em class="sig-param">log=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/zernike.html#ZernikeExpansion.getPSF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.zernike.ZernikeExpansion.getPSF" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the PSF by fourier means.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – size of PDF array, Default = 256</p></li>
<li><p><strong>log</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – logical if log of intensity taken, Default = True</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.zernike.ZernikeExpansion.getValue">
<code class="sig-name descname">getValue</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/zernike.html#ZernikeExpansion.getValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.zernike.ZernikeExpansion.getValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the value of the Zernike Expansion at location x,y, note the x/y values are divided by radius before evaluation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float of Vector2d</em>) – x value  of Vector2d</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – y vaue or None of x is Vector2d</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the float value</p>
</dd>
</dl>
<p>Note: if x/y outside range (do outside circle specifed by self.radius) this will retuen “nan”.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Ray Optics</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tio.html">Terminal Input / Output (tio)</a></li>
<li class="toctree-l1"><a class="reference internal" href="vector.html">Vector Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="wavelength.html">Wavelength Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix.html">Matrix Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="ray.html">Ray Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="surface.html">Surface Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="lens.html">Lens Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="psf.html">Point Spread Functions and Spot Diagrams</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Analysis Classes</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Zernike analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#radial-and-zernike-polynomials">Radial and Zernike Polynomials</a></li>
<li class="toctree-l2"><a class="reference internal" href="#zernikeexpalsion-class">ZernikeExpalsion Class</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="analysis.html" title="previous chapter">Analysis Classes</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Will Hossack.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/zernike.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>