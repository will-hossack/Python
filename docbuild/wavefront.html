
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Wavefront analysis &#8212; Ray Optics  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Zernike analysis" href="zernike.html" />
    <link rel="prev" title="Analysis Classes" href="analysis.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="wavefront-analysis">
<h1>Wavefront analysis<a class="headerlink" href="#wavefront-analysis" title="Permalink to this headline">¶</a></h1>
<div class="section" id="wavepoint-class">
<h2>WavePoint class<a class="headerlink" href="#wavepoint-class" title="Permalink to this headline">¶</a></h2>
<p>Class to implenet a WavePooint</p>
<dl class="class">
<dt id="optics.wavefront.WavePoint">
<em class="property">class </em><code class="sig-prename descclassname">optics.wavefront.</code><code class="sig-name descname">WavePoint</code><span class="sig-paren">(</span><em class="sig-param">pt=Vector2d (0.0000e+00</em>, <em class="sig-param">0.0000e+00)</em>, <em class="sig-param">pathlength=0.0</em>, <em class="sig-param">wavelength=0.55</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WavePoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WavePoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to hold a WavePoint being the optical path length or phase at a point in a plane.</p>
<dl class="method">
<dt id="optics.wavefront.WavePoint.getPathLength">
<code class="sig-name descname">getPathLength</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WavePoint.getPathLength"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WavePoint.getPathLength" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to get the pathlength in mm</p>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WavePoint.getPhaseLength">
<code class="sig-name descname">getPhaseLength</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WavePoint.getPhaseLength"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WavePoint.getPhaseLength" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to get the phase length, being 2*pi*pathelength/wavelength.</p>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WavePoint.setWithRay">
<code class="sig-name descname">setWithRay</code><span class="sig-paren">(</span><em class="sig-param">ray</em>, <em class="sig-param">plane</em>, <em class="sig-param">refpt=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WavePoint.setWithRay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WavePoint.setWithRay" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the value in a specifed plane using a ray and optional reference point. This is
the main method used to cancluate wavefront abberations in a plane wrt to a specificied
refererence point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ray</strong> – The intensity ray</p></li>
<li><p><strong>plane</strong> – The flat plan in which to form the wavepoint</p></li>
<li><p><strong>refpt</strong> – The reference point. This assumed to be the image point.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WavePoint.setWithWaveFront">
<code class="sig-name descname">setWithWaveFront</code><span class="sig-paren">(</span><em class="sig-param">wf</em>, <em class="sig-param">pt=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WavePoint.setWithWaveFront"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WavePoint.setWithWaveFront" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a single WavePoint with a wavefront. 
If pt is None, then the current value position of the wavepoint is used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wf</strong> (<a class="reference internal" href="#optics.wavefront.WaveFront" title="optics.wavefront.WaveFront"><em>WaveFront</em></a>) – The WaveFront</p></li>
<li><p><strong>pt</strong> – the point, of None then the current value of self is iused</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="wavepointset-class">
<h2>WavePointSet class<a class="headerlink" href="#wavepointset-class" title="Permalink to this headline">¶</a></h2>
<p>Class to implement a set (list) of Wavepoints in a plane with additional methods
to analyse them.</p>
<dl class="class">
<dt id="optics.wavefront.WavePointSet">
<em class="property">class </em><code class="sig-prename descclassname">optics.wavefront.</code><code class="sig-name descname">WavePointSet</code><span class="sig-paren">(</span><em class="sig-param">radius=0.0</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WavePointSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WavePointSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to hold a list of WavePoints, consists of a list of WavePoints with manipulation methods.</p>
<dl class="method">
<dt id="optics.wavefront.WavePointSet.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param">wp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WavePointSet.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WavePointSet.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to add a WavePoint,it append to WavePointSet and also extend the currect
maxradius if needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>wp</strong> (<a class="reference internal" href="#optics.wavefront.WavePoint" title="optics.wavefront.WavePoint"><em>WavePoint</em></a>) – the WavePoint to be added</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WavePointSet.fitSeidel">
<code class="sig-name descname">fitSeidel</code><span class="sig-paren">(</span><em class="sig-param">angle=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WavePointSet.fitSeidel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WavePointSet.fitSeidel" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to fit the seidel abberations</p>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WavePointSet.fitSeidelFunction">
<code class="sig-name descname">fitSeidelFunction</code><span class="sig-paren">(</span><em class="sig-param">xv</em>, <em class="sig-param">a</em>, <em class="sig-param">b</em>, <em class="sig-param">c</em>, <em class="sig-param">d</em>, <em class="sig-param">e</em>, <em class="sig-param">f</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WavePointSet.fitSeidelFunction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WavePointSet.fitSeidelFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit function for Seidel aberrations with 6 parameters</p>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WavePointSet.fitZernike">
<code class="sig-name descname">fitZernike</code><span class="sig-paren">(</span><em class="sig-param">order=4</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WavePointSet.fitZernike"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WavePointSet.fitZernike" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit a Zernike Expansion to the WaveFront to specified order.
This used the SciPi curve_fit methiod to do the actual fitting work. 
Note it will Zero Mean first.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>order</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Order of expansion, 4,6 and 8 implemented (Default = 4)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the fitted ZernikeWaveFront of unit radius.</p>
</dd>
</dl>
<p>Also self.zerr is avaialble as a np.array of the errors terms from the
fit.</p>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WavePointSet.fitZernikeFunctionNine">
<code class="sig-name descname">fitZernikeFunctionNine</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">a</em>, <em class="sig-param">b</em>, <em class="sig-param">c</em>, <em class="sig-param">d</em>, <em class="sig-param">e</em>, <em class="sig-param">f</em>, <em class="sig-param">g</em>, <em class="sig-param">h</em>, <em class="sig-param">i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WavePointSet.fitZernikeFunctionNine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WavePointSet.fitZernikeFunctionNine" title="Permalink to this definition">¶</a></dt>
<dd><p>Fitting function for a 9 parameter (4th order) Zernike expansion
in a form that can be used by the SciPy curve_fit</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>np.array of values at the WavePoints.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WavePointSet.fitZernikeFunctionSixteen">
<code class="sig-name descname">fitZernikeFunctionSixteen</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">a</em>, <em class="sig-param">b</em>, <em class="sig-param">c</em>, <em class="sig-param">d</em>, <em class="sig-param">e</em>, <em class="sig-param">f</em>, <em class="sig-param">g</em>, <em class="sig-param">h</em>, <em class="sig-param">i</em>, <em class="sig-param">j</em>, <em class="sig-param">k</em>, <em class="sig-param">l</em>, <em class="sig-param">m</em>, <em class="sig-param">n</em>, <em class="sig-param">o</em>, <em class="sig-param">p</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WavePointSet.fitZernikeFunctionSixteen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WavePointSet.fitZernikeFunctionSixteen" title="Permalink to this definition">¶</a></dt>
<dd><p>Fitting function for a 16 parameter (6th order) Zernike expansion
in a form that can be used by the SciPy curve_fit</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>np.array of values at the WavePoints.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WavePointSet.fitZernikeFunctionTwentyFive">
<code class="sig-name descname">fitZernikeFunctionTwentyFive</code><span class="sig-paren">(</span><em class="sig-param">xv</em>, <em class="sig-param">a</em>, <em class="sig-param">b</em>, <em class="sig-param">c</em>, <em class="sig-param">d</em>, <em class="sig-param">e</em>, <em class="sig-param">f</em>, <em class="sig-param">g</em>, <em class="sig-param">h</em>, <em class="sig-param">i</em>, <em class="sig-param">j</em>, <em class="sig-param">k</em>, <em class="sig-param">l</em>, <em class="sig-param">m</em>, <em class="sig-param">n</em>, <em class="sig-param">o</em>, <em class="sig-param">p</em>, <em class="sig-param">q</em>, <em class="sig-param">r</em>, <em class="sig-param">s</em>, <em class="sig-param">t</em>, <em class="sig-param">u</em>, <em class="sig-param">v</em>, <em class="sig-param">w</em>, <em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WavePointSet.fitZernikeFunctionTwentyFive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WavePointSet.fitZernikeFunctionTwentyFive" title="Permalink to this definition">¶</a></dt>
<dd><p>Fitting function for a 25 parameter (8th order) Zernike expansion
in a form that can be used by the SciPy curve_fit</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>np.array of values at the WavePoints.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WavePointSet.getPhaseValues">
<code class="sig-name descname">getPhaseValues</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WavePointSet.getPhaseValues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WavePointSet.getPhaseValues" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Phase length Values as a numpy array. This is an internal method used 
in fitting and not nornmally called bu the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>np.array of floats</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WavePointSet.leastSqrError">
<code class="sig-name descname">leastSqrError</code><span class="sig-paren">(</span><em class="sig-param">zern</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WavePointSet.leastSqrError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WavePointSet.leastSqrError" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to caculate the least sqr error between the datapoint and a two dimensional
surface estmate</p>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WavePointSet.setWithRays">
<code class="sig-name descname">setWithRays</code><span class="sig-paren">(</span><em class="sig-param">pencil</em>, <em class="sig-param">plane</em>, <em class="sig-param">refpt=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WavePointSet.setWithRays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WavePointSet.setWithRays" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a set of wavepoint from a pencil, in a specified plane with an optional reference point</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pencil</strong> – The raypencil containing a list of arrays</p></li>
<li><p><strong>plane</strong> – the plane of the wavepoints.</p></li>
<li><p><strong>refpt</strong> – The reference point, may be None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WavePointSet.setWithWaveFront">
<code class="sig-name descname">setWithWaveFront</code><span class="sig-paren">(</span><em class="sig-param">wf</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WavePointSet.setWithWaveFront"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WavePointSet.setWithWaveFront" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the current set of wavepoints with a WaveFront</p>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WavePointSet.zeroMean">
<code class="sig-name descname">zeroMean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WavePointSet.zeroMean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WavePointSet.zeroMean" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to zero-mean the data by substracting off the average pathlength from each point.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>self</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="wavefront-class">
<h2>WaveFront class<a class="headerlink" href="#wavefront-class" title="Permalink to this headline">¶</a></h2>
<p>General class to hold an analyic wavefront. Users need to on of the extending
classes to be useful.</p>
<dl class="class">
<dt id="optics.wavefront.WaveFront">
<em class="property">class </em><code class="sig-prename descclassname">optics.wavefront.</code><code class="sig-name descname">WaveFront</code><span class="sig-paren">(</span><em class="sig-param">radius=1.0</em>, <em class="sig-param">wavelength=0.55</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WaveFront"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WaveFront" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic wavefront class, abstract at this point</p>
<dl class="method">
<dt id="optics.wavefront.WaveFront.getImage">
<code class="sig-name descname">getImage</code><span class="sig-paren">(</span><em class="sig-param">size=256</em>, <em class="sig-param">xtilt=None</em>, <em class="sig-param">ytilt=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WaveFront.getImage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WaveFront.getImage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an np.array image of the expansion. If both tilts are None, 
then image set to raw phase value, othwise
will be simulated interferometer with specified tilt with output in the range 0.0 -&gt; 2.0.</p>
<p>Note: the pixel elements outside the unit circle will be set to NaN.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – size of image (Default = 256)</p></li>
<li><p><strong>xtilt</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a>) – Interferometer xtilt, may be None</p></li>
<li><p><strong>ytilt</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a>) – Interferometer ytilt, may be None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>two dimensional np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WaveFront.getOTF">
<code class="sig-name descname">getOTF</code><span class="sig-paren">(</span><em class="sig-param">size=128</em>, <em class="sig-param">key='h'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WaveFront.getOTF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WaveFront.getOTF" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the one-dimenensioal normalsied OFT as np array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of point in the OTF (Default = 128)</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – horizontal or vertical “h” or “v”</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WaveFront.getPSF">
<code class="sig-name descname">getPSF</code><span class="sig-paren">(</span><em class="sig-param">size=256</em>, <em class="sig-param">log=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WaveFront.getPSF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WaveFront.getPSF" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the PSF by fourier means.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – size of PSF array, Default = 256</p></li>
<li><p><strong>log</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – logical if log of intensity taken, Default = True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>two dimensional np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WaveFront.getValue">
<code class="sig-name descname">getValue</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WaveFront.getValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WaveFront.getValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Defaults getValue, to we supplied in extending classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> or </em><a class="reference internal" href="vector.html#vector.Vector2d" title="vector.Vector2d"><em>Vector2d</em></a>) – the x value of Vector2d</p></li>
<li><p><strong>y</strong> (<em>float of None</em>) – the y value or None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the value, initically set to “NaN”</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WaveFront.plotImage">
<code class="sig-name descname">plotImage</code><span class="sig-paren">(</span><em class="sig-param">size=256</em>, <em class="sig-param">xtilt=None</em>, <em class="sig-param">ytilt=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WaveFront.plotImage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WaveFront.plotImage" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot data is a np.array in extent +/- 1.0</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the size of the image in pixel, (Default = 256)</p></li>
<li><p><strong>xtilt</strong> (<em>float of None</em>) – X-Interferometer tilt, if None then plot raw phase values</p></li>
<li><p><strong>ytilt</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> or </em><em>none</em>) – Y-Interferometer tilt</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WaveFront.plotOTF">
<code class="sig-name descname">plotOTF</code><span class="sig-paren">(</span><em class="sig-param">size=128</em>, <em class="sig-param">key='h'</em>, <em class="sig-param">ideal=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WaveFront.plotOTF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WaveFront.plotOTF" title="Permalink to this definition">¶</a></dt>
<dd><p>Calcualte and plot OFT with sensible plot paramters. 
It will plot hotizontal / vertical / both normalsied OTF with optional ideal plot</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – number of point in shift, (Default = 128).</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Plot key, may be “h”, “v” or “b” for horizontal / vertical / both</p></li>
<li><p><strong>ideal</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – plot ideal OTF for reference (Default = True)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WaveFront.plotPSF">
<code class="sig-name descname">plotPSF</code><span class="sig-paren">(</span><em class="sig-param">size=256</em>, <em class="sig-param">log=True</em>, <em class="sig-param">key='b'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WaveFront.plotPSF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WaveFront.plotPSF" title="Permalink to this definition">¶</a></dt>
<dd><p>Make plot of the PSF along the x and y axis. Plot to current defaults plt.plot()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – size of plot Default = 256</p></li>
<li><p><strong>log</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – is log taken before plot, Default = True</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – what is plotted, can be “h”, “v” or “b”</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WaveFront.readFromFile">
<code class="sig-name descname">readFromFile</code><span class="sig-paren">(</span><em class="sig-param">fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WaveFront.readFromFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WaveFront.readFromFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a wavefront from a file</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="zernikewavefront-class">
<h2>ZernikeWaveFront class<a class="headerlink" href="#zernikewavefront-class" title="Permalink to this headline">¶</a></h2>
<p>Class to implement a ZernikeWaveFront</p>
<dl class="class">
<dt id="optics.wavefront.ZernikeWaveFront">
<em class="property">class </em><code class="sig-prename descclassname">optics.wavefront.</code><code class="sig-name descname">ZernikeWaveFront</code><span class="sig-paren">(</span><em class="sig-param">radius=1.0</em>, <em class="sig-param">wavelength=0.55</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#ZernikeWaveFront"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.ZernikeWaveFront" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to hold a zernike wavefront , being a list of optical zernike components. There are also method to evaluate and
display the expansion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – the radius (Default = 1.0)</p></li>
<li><p><strong>wavelength</strong> – the wavelnegth (Default = 0.55)</p></li>
<li><p><strong>*args</strong> – coefficiencs as set of parameters or list, may be blank.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="optics.wavefront.ZernikeWaveFront.getValue">
<code class="sig-name descname">getValue</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#ZernikeWaveFront.getValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.ZernikeWaveFront.getValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the value of the Zernike Expansion at location x,y, note the x/y values are divided by radius before evaluation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float of Vector2d</em>) – x value  of Vector2d</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – y vaue or None of x is Vector2d</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the float value</p>
</dd>
</dl>
<p>Note: if x/y outside range (do outside circle specifed by self.radius) this will return “NaN”.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="wavefrontanalysis-class">
<h2>WaveFrontAnalysis Class<a class="headerlink" href="#wavefrontanalysis-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="optics.wavefront.WaveFrontAnalysis">
<em class="property">class </em><code class="sig-prename descclassname">optics.wavefront.</code><code class="sig-name descname">WaveFrontAnalysis</code><span class="sig-paren">(</span><em class="sig-param">lens</em>, <em class="sig-param">design=0.55</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WaveFrontAnalysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WaveFrontAnalysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to implement a set of wavefront analysis of a specified lens.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lens</strong> (<a class="reference internal" href="lens.html#optics.lens.Lens" title="optics.lens.Lens"><em>optics.lens.Lens</em></a>) – The lens to be tested</p></li>
<li><p><strong>design</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – the design wavelenth (Default = 0.55)</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="optics.wavefront.WaveFrontAnalysis.drawAberrationPlot">
<code class="sig-name descname">drawAberrationPlot</code><span class="sig-paren">(</span><em class="sig-param">angle, wave=0.55, colour=['r', 'g', 'b'], legend='lower left'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WaveFrontAnalysis.drawAberrationPlot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WaveFrontAnalysis.drawAberrationPlot" title="Permalink to this definition">¶</a></dt>
<dd><p>Form and draw the plots at specified angle</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em> or </em><a class="reference internal" href="vector.html#vector.Angle" title="vector.Angle"><em>Angle</em></a><em> or </em><a class="reference internal" href="vector.html#vector.Unit3d" title="vector.Unit3d"><em>Unit3d</em></a>) – the ray angle</p></li>
<li><p><strong>colour</strong> – line colours is three elemnts list, Default = [“r”,”g”,”b”])</p></li>
<li><p><strong>legend</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – location of ledgend, (Default = “lower left”)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WaveFrontAnalysis.fitSeidel">
<code class="sig-name descname">fitSeidel</code><span class="sig-paren">(</span><em class="sig-param">angle</em>, <em class="sig-param">wave=0.55</em>, <em class="sig-param">refopt=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WaveFrontAnalysis.fitSeidel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WaveFrontAnalysis.fitSeidel" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the Seidel aberrations</p>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WaveFrontAnalysis.fitZernike">
<code class="sig-name descname">fitZernike</code><span class="sig-paren">(</span><em class="sig-param">u</em>, <em class="sig-param">wave=0.55</em>, <em class="sig-param">order=4</em>, <em class="sig-param">refopt=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WaveFrontAnalysis.fitZernike"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WaveFrontAnalysis.fitZernike" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit zernike to wavefront in exit pupil with sensible defaults</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>u</strong> (<a class="reference internal" href="vector.html#vector.Unit3d" title="vector.Unit3d"><em>Unit3d</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – angle of collimated beam</p></li>
<li><p><strong>wave</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – analysis wavelength</p></li>
<li><p><strong>order</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – order of Zernike, must by 4,6,8 only</p></li>
<li><p><strong>refopt</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – option for reference point</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="optics.wavefront.WaveFrontAnalysis.getWavePointSet">
<code class="sig-name descname">getWavePointSet</code><span class="sig-paren">(</span><em class="sig-param">u</em>, <em class="sig-param">wave=0.55</em>, <em class="sig-param">nrays=10</em>, <em class="sig-param">refopt=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optics/wavefront.html#WaveFrontAnalysis.getWavePointSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#optics.wavefront.WaveFrontAnalysis.getWavePointSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the wavepointset for collimated beam in the exitpupil of the lens</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>u</strong> (<a class="reference internal" href="vector.html#vector.Unit3d" title="vector.Unit3d"><em>Unit3d</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – the angle of input beam</p></li>
<li><p><strong>wave</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – analysis wavelength</p></li>
<li><p><strong>nrays</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – number of raays across input aperture, (Default = 10)</p></li>
<li><p><strong>refopt</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – reference point option, 0 = paraxial, 1 = centre of PSF in image plane, 2 = optimal area PSF</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Ray Optics</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tio.html">Terminal Input / Output (tio)</a></li>
<li class="toctree-l1"><a class="reference internal" href="vector.html">Vector Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="wavelength.html">Wavelength Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix.html">Matrix Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="ray.html">Ray Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="surface.html">Surface Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="lens.html">Lens Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="psf.html">Point Spread Functions and Spot Diagrams</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Analysis Classes</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Wavefront analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#wavepoint-class">WavePoint class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wavepointset-class">WavePointSet class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wavefront-class">WaveFront class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#zernikewavefront-class">ZernikeWaveFront class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wavefrontanalysis-class">WaveFrontAnalysis Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="zernike.html">Zernike analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="material.html">Material Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="jones.html">Jones Methods</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="analysis.html" title="previous chapter">Analysis Classes</a></li>
      <li>Next: <a href="zernike.html" title="next chapter">Zernike analysis</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Will Hossack.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/wavefront.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>